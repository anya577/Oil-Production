<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>table</title>
  </head>
  <body>
    
    <div class="container">
    <div class="logo"><img src="images/logo gold.bmp" alt="UG"></div>
    <table id="enterData1">
      <tr>
        <th style="width: 20%;">Production</th>
        <th style="width: 30%;">raw materials</th>
        <th style="width: 4%;">liter</th>
        <th style="width: 4%;">KG</th>
        <th style="width: 4%;">temp</th>
        <th style="width: 4%;">smth</th>
        <th style="width: 30%;">products made</th>
        <th>total kg</th>
      </tr>
      <tr>
        <td rowspan="4"></td>
        
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td></td>
        <td></td>
        <td></td>
        
        
      </tr>
      <tr>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        
        

      </tr>
      <tr>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        
        
      </tr>
      <tr>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>
        <td>dsfb</td>       
              
        

      </tr>
      
      <tr id="sumRow1">
        <td colspan = "3">Total:</td>
        <td></td>
        <td>loss:</td>
        <td></td>
        <td></td>     

       
        
        <!-- <td></td>
        <td></td> -->
      </tr>
     
    </table>
    <div class="buttons" >
    <button id="addRowButton1" onclick="addRow()">Add Row</button>
    <button id="deleteRowButton1" onclick="deleteRow()">Delete Row</button>
  </div>
    <div class="signUp">
      <table class="sign">
        <tr>
          <td>
      <p>aaaaaa:</p> 
    </td>
    <td>
      <p>bbbbbb:</p> 
    </td>
    </tr>
    </table>
    </div>
    
</div>
<div class="containertwo">
  
  <table id="enterData2">
    <tr>
      <th style="width: 20%;">1</th>
      <th style="width: 30%;">2</th>
      <th style="width: 4%;">3</th>
      <th style="width: 4%;">4</th>
      <th style="width: 4%;">5</th>
      <th style="width: 4%;">6</th>
      <th style="width: 30%;">adkbjfe jopaevjae oaevae aefbvsdfb aebojsbs</th>
    </tr>
    <tr>
      <td rowspan="4"></td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td rowspan="4"></td>
    </tr>
    <tr>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
    </tr>
    <tr>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
    </tr>
    <tr>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
    </tr>
    <tr id="sumRow2">
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <!-- <td></td>
      <td></td> -->
    </tr>
  </table>
  <div class="signUp">
    <table class="sign">
      <tr>
        <td>
    <p>aaaaaa:</p> 
  </td>
  <td>
    <p>bbbbbb:</p> 
  </td>
  </tr>
  </table>
  </div>
  
</div>
<div class="containertwo">
  
  <table id="enterData3">
    <tr>
      <th style="width: 20%;">1</th>
      <th style="width: 30%;">2</th>
      <th style="width: 4%;">3</th>
      <th style="width: 4%;">4</th>
      <th style="width: 4%;">5</th>
      <th style="width: 4%;">6</th>
      <th style="width: 30%;">adkbjfe jopaevjae oaevae aefbvsdfb aebojsbs</th>
    </tr>
    <tr>
      <td rowspan="4"></td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td rowspan="4"></td>
    </tr>
    <tr>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
    </tr>
    <tr>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
    </tr>
    <tr>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
      <td>dsfb</td>
    </tr>
    <tr id="sumRow111">
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <!-- <td></td>
      <td></td> -->
    </tr>
  </table>
  <div class="signUp">
    <table class="sign">
      <tr>
        <td>
    <p>aaaaaa:</p> 
  </td>
  <td>
    <p>bbbbbb:</p> 
  </td>
  </tr>
  </table>
  </div>
  
</div>

<script>
  let tables = document.querySelectorAll('table');
let outsideFocusElement = document.querySelector('.outside-focus'); // Replace with the actual non-editable element you want to focus on

for (let i = 0; i < tables.length; i++) {
  let cells = tables[i].getElementsByTagName('td');

  for (let j = 0; j < cells.length; j++) {
    cells[j].onclick = function () {
      if (this.hasAttribute('data-clicked')) {
        return;
      }

      this.setAttribute('data-clicked', 'yes');
      this.setAttribute('data-text', this.innerHTML);

      let input = document.createElement('input');
      input.setAttribute('type', 'text');
      input.value = this.innerHTML;
      input.style.width = this.offsetWidth - this.clientLeft * 2 + 'px';
      input.style.height = this.offsetHeight - this.clientTop * 2 + 'px';
      input.style.border = '0px';
      input.style.fontFamily = 'inherit';
      input.style.fontSize = 'inherit';
      input.style.textAlign = 'inherit';
      input.style.backgroundColor = 'LightGoldenRodYellow';

      input.onblur = function () {
        let td = input.parentElement;
        let orig_text = input.parentElement.getAttribute('data-text');
        let current_text = this.value;

        if (orig_text != current_text) {
          td.removeAttribute('data-clicked');
          td.removeAttribute('data-text');
          td.innerHTML = current_text;
          td.style.cssText = 'padding: 5px';
          console.log(orig_text + ' is changed to ' + current_text);
        } else {
          td.removeAttribute('data-clicked');
          td.removeAttribute('data-text');
          td.innerHTML = orig_text;
          td.style.cssText = 'padding: 5px';
          console.log('No changes');
        }
      };

      input.onkeydown = function (e) {
        if (e.key === 'Enter' || e.key === 'Tab') {
          e.preventDefault();

          // Focus the next cell (in the same row) after "Enter" or "Tab" key
          let td = input.parentElement;
          let row = td.parentElement;
          let rowIndex = row.rowIndex;
          let cellIndex = td.cellIndex;

          let nextRow = tables[i].rows[rowIndex + 1];
          if (e.key === 'Enter' && nextRow) {
            nextRow.cells[cellIndex].click();
          } else if (e.key === 'Tab') {
            let nextCell = td.nextElementSibling;
            if (nextCell) {
              nextCell.click();
            } else if (nextRow) {
              nextRow.cells[0].click();
            }
          }
        } else if (e.key === 'ArrowUp' || e.key === 'ArrowDown' || e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
          e.preventDefault();

          // Handle arrow key navigation
          let td = input.parentElement;
          let row = td.parentElement;
          let rowIndex = row.rowIndex;
          let cellIndex = td.cellIndex;

          if (e.key === 'ArrowUp' && rowIndex > 0) {
            tables[i].rows[rowIndex - 1].cells[cellIndex].click();
          } else if (e.key === 'ArrowDown' && rowIndex < tables[i].rows.length - 1) {
            tables[i].rows[rowIndex + 1].cells[cellIndex].click();
          } else if (e.key === 'ArrowLeft' && cellIndex > 0) {
            row.cells[cellIndex - 1].click();
          } else if (e.key === 'ArrowRight' && cellIndex < row.cells.length - 1) {
            row.cells[cellIndex + 1].click();
          }
        } else if (e.key === 'Escape') {
          e.preventDefault();

          // Focus on an element outside the table
          outsideFocusElement.focus();
        }
      };

      this.innerHTML = '';
      this.style.cssText = 'padding: 0px 0px';
      this.append(input);
      this.firstElementChild.select();
    };
  }
}


// Function to add a new row
let table = document.getElementById("enterData1");

function addRow() {
  let newRow = table.insertRow(table.rows.length - 1);
  for (let i = 0; i < table.rows[0].cells.length; i++) {
    let cell = newRow.insertCell(i);
    if (i === 0) {
      cell.contentEditable = true; // Make the first cell editable
      cell.textContent = "0"; // Default value for the first cell
    } else {
      cell.textContent = "";
      cell.classList.add("editable");
      cell.contentEditable = true;
    }
  }
}
//sum function



</script>
  </body>
</html>

   
  </body>
</html>
